# Charybdis ZMK: Swap trackball layers на badjeff и версии 0.3

## Изменения 07.11.2025 - Переключение слоёв трекбола

### Что изменено:

**Активация трекбола:**
- Было: при движении трекбола → слой 2 (mouse)
- **Стало: при движении трекбола → слой 3 (scroll)**

**Переключение по кнопке:**
- Было: зажатие кнопки → слой 3 (scroll)
- **Стало: зажатие кнопки → слой 2 (mouse)**

### Изменённые файлы:

1. **`config/boards/shields/charybdis/charybdis_left.overlay`**
   - Изменено: `&zip_temp_layer 2 1000` → `&zip_temp_layer 3 1000`
   - Эффект: трекбол теперь активирует слой 3 (scroll) по умолчанию

2. **`config/charybdis.keymap`**
   - Изменено в слое `QWERTY` (layer 0): `&lt 3 RSHIFT` → `&lt 2 RSHIFT`
   - Эффект: при зажатии кнопки включается слой mouse

### Как это работает:

- При движении трекбола: автоматически включается **scroll** на 1 секунду
- Если зажать кнопку: включается **mouse** режим
- Слой 4 (sniper) остаётся доступен через слой 4 (mouse)

---

## Предыдущие изменения (fix-scroll-smooth)

- **Плавность скролла увеличена**: добавлен zip_scroll_scaler со множителем 2
- **Скорость скролла чуть выше**: zip_xy_scaler теперь 1 10
- **Режим "sniper" исправлен**: убрана инверсия axis transform
- **Оси в скролле**:
    - Горизонтальная: стандартная (нет инверсии)
    - Вертикальная: инвертирована (движение шара вниз = страница вниз)
- **Режим курсора**: глобальная инверсия X/Y

### Настройка плавности:
- zip_scroll_scaler 2 1 — плавнее. Можно попробовать 3 2 для более плавного эффекта
- zip_xy_scaler 1/2/3 10—15 — скорость прокрутки

---

**Ссылки:**
- [swap-trackball-layers](текущая ветка) - переключение слоёв
- [fix-scroll-smooth](https://github.com/KozZzi-ru/charybdis-zmk/tree/fix-scroll-smooth) - базовая ветка
